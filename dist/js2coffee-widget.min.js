function addScript(e){var i=document.createElement("script");i.type="text/javascript",i.src=e,$("head").append(i)}function js2cs(e,i){var t="<div class='embed-nav group' id='embed-nav'>\n<ul style='margin: 0'>\n<li><a id='js-link"+i+"' class='active'>JavaScript</a></li>\n<li><a id='cs-link"+i+"'>CoffeeScript</a></li>\n</ul>\n</div>\n<div id='output' data-border-style='none' data-header='true'>\n<div id='js-box"+i+"' class='code-box js-box active'></div>\n<div id='cs-box"+i+"' class='code-box cs-box'></div>\n</div>\n",c="\n"+e.text();e.html(t),e.find("#js-box"+i).html(c),e.find("#cs-box"+i).html("\n"+compile(c).code),e.find("#output").height(e.height()-e.find("#embed-nav").height())}function cs2js(e){var i="<div class='embed-nav group' id='embed-nav'>\n<ul style='margin: 0'>\n<li><a id='js-link"+id+"'>JavaScript</a></li>\n<li><a id='cs-link"+id+"' class='active'>CoffeeScript</a></li>\n</ul>\n</div>\n<div id='output' data-border-style='none' data-header='true'>\n<div id='js-box"+id+"' class='code-box js-box'></div>\n<div id='cs-box"+id+"' class='code-box cs-box active'></div>\n</div>\n",t="\n"+e.text();e.html(i),e.find("#js-box"+id).html("\n"+compileReverse(t).code),e.find("#cs-box"+id).html(t),e.find("#output").height(e.height()-e.find("#embed-nav").height())}function addClickListeners(e){$("#js-link"+e).click(function(){$("#js-link"+e).addClass("active"),$("#js-box"+e).addClass("active"),$("#cs-link"+e).removeClass("active"),$("#cs-box"+e).removeClass("active")}),$("#cs-link"+e).click(function(){$("#cs-link"+e).addClass("active"),$("#cs-box"+e).addClass("active"),$("#js-link"+e).removeClass("active"),$("#js-box"+e).removeClass("active")}),configureEditor("js-box"+e,"javascript"),configureEditor("cs-box"+e,"coffee")}function configureEditor(e,i){var t=ace.edit(e);t.getSession().setMode("ace/mode/"+i),t.setTheme("ace/theme/twilight"),t.setReadOnly(!0),t.renderer.setShowGutter(!1)}function compile(e){var i,t,c;try{i=js2coffee.build(e),c=i.code,c+="\n# ---\n# generated by js2coffee "+js2coffee.version}catch(n){if(t=n,!n.start)throw n}return{code:c,error:t,warnings:i&&i.warnings}}function compileReverse(e){var t,c;try{c=CoffeeScript.compile(e,{bare:!0}),c+="\n// ---\n// generated by coffee-script "+CoffeeScript.VERSION,c=c.trim()}catch(n){if(!n.location)throw n;n.description=n.message,n.start={line:n.location.first_line+1,column:n.location.first_column},n.location.last_line&&(n.end={line:n.location.last_line+1,column:n.location.last_column+1}),console.error(n),t=n}return{code:c,error:t}}$(function(){addScript("https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.9/ace.js"),addScript("http://cdn.rawgit.com/jashkenas/coffeescript/1.9.0/extras/coffee-script.js"),addScript("http://cdn.rawgit.com/js2coffee/js2coffee/v2.0.3/dist/js2coffee.js")}),$(window).load(function(){$(".j2cw-js").each(function(e){js2cs($(this),e),addClickListeners(e)})});