function addScript(e){var i=document.createElement("script");i.type="text/javascript",i.src=e,$("head").append(i)}function js2cs(e,i){var c="<div class='embed-nav group' id='embed-nav'>\n<ul>\n<li><a id='js-link"+i+"' class='active'>JavaScript</a></li>\n<li><a id='cs-link"+i+"'>CoffeeScript</a></li>\n</ul>\n</div>\n<div id='output' data-border-style='none' data-header='true' style='height: 139px;'>\n<div id='js-box"+i+"' class='code-box js-box active'></div>\n<div id='cs-box"+i+"' class='code-box cs-box'></div>\n</div>\n",t="\n"+e.text();e.html(c),e.find("#js-box"+i).html(t),e.find("#cs-box"+i).html("\n"+compile(t).code)}function cs2js(e){var i="<div class='embed-nav group' id='embed-nav'>\n<ul>\n<li><a id='js-link"+id+"'>JavaScript</a></li>\n<li><a id='cs-link"+id+"' class='active'>CoffeeScript</a></li>\n</ul>\n</div>\n<div id='output' data-border-style='none' data-header='true' style='height: 139px;'>\n<div id='js-box"+id+"' class='code-box js-box'></div>\n<div id='cs-box"+id+"' class='code-box cs-box active'></div>\n</div>\n",c="\n"+e.text();e.html(i),e.find("#js-box"+id).html("\n"+compileReverse(c).code),e.find("#cs-box"+id).html(c)}function addClickListeners(e){$("#js-link"+e).click(function(){$("#js-link"+e).addClass("active"),$("#js-box"+e).addClass("active"),$("#cs-link"+e).removeClass("active"),$("#cs-box"+e).removeClass("active")}),$("#cs-link"+e).click(function(){$("#cs-link"+e).addClass("active"),$("#cs-box"+e).addClass("active"),$("#js-link"+e).removeClass("active"),$("#js-box"+e).removeClass("active")}),configureEditor("js-box"+e,"javascript"),configureEditor("cs-box"+e,"coffee")}function configureEditor(e,i){var c=ace.edit(e);c.getSession().setMode("ace/mode/"+i),c.setTheme("ace/theme/twilight"),c.setReadOnly(!0),c.renderer.setShowGutter(!1)}function compile(e){var i,c,t;try{i=js2coffee.build(e),t=i.code,t+="\n# ---\n# generated by js2coffee "+js2coffee.version}catch(s){if(c=s,!s.start)throw s}return{code:t,error:c,warnings:i&&i.warnings}}function compileReverse(e){var c,t;try{t=CoffeeScript.compile(e,{bare:!0}),t+="\n// ---\n// generated by coffee-script "+CoffeeScript.VERSION,t=t.trim()}catch(s){if(!s.location)throw s;s.description=s.message,s.start={line:s.location.first_line+1,column:s.location.first_column},s.location.last_line&&(s.end={line:s.location.last_line+1,column:s.location.last_column+1}),console.error(s),c=s}return{code:t,error:c}}$(function(){addScript("https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.9/ace.js"),addScript("http://cdn.rawgit.com/jashkenas/coffeescript/1.9.0/extras/coffee-script.js"),addScript("http://cdn.rawgit.com/js2coffee/js2coffee/v2.0.3/dist/js2coffee.js")}),$(window).load(function(){$(".j2cw-js").each(function(e){js2cs($(this),e),addClickListeners(e)})});