function addScript(e){var i=document.createElement("script");i.type="text/javascript",i.src=e,$("head").append(i)}function js2cs(e){var i="<div class='embed-nav group' id='embed-nav'>\n<ul>\n<li><a id='js-link' class='active'>JavaScript</a></li>\n<li><a id='cs-link'>CoffeeScript</a></li>\n</ul>\n</div>\n<div id='output' data-border-style='none' data-header='true' style='height: 139px;'>\n<div id='js-box' class='code-box active'></div>\n<div id='cs-box' class='code-box'></div>\n</div>\n",c="\n"+e.text();e.html(i),e.find("#js-box").html(c),e.find("#cs-box").html("\n"+compile(c).code)}function cs2js(e){var i="<div class='embed-nav group' id='embed-nav'>\n<ul>\n<li><a id='js-link'>JavaScript</a></li>\n<li><a id='cs-link' class='active'>CoffeeScript</a></li>\n</ul>\n</div>\n<div id='output' data-border-style='none' data-header='true' style='height: 139px;'>\n<div id='js-box' class='code-box'></div>\n<div id='cs-box' class='code-box active'></div>\n</div>\n",c="\n"+e.text();e.html(i),e.find("#js-box").html("\n"+compileReverse(c).code),e.find("#cs-box").html(c)}function addClickListeners(){$("#js-link").click(function(){$("#js-link").addClass("active"),$("#js-box").addClass("active"),$("#cs-link").removeClass("active"),$("#cs-box").removeClass("active")}),$("#cs-link").click(function(){$("#cs-link").addClass("active"),$("#cs-box").addClass("active"),$("#js-link").removeClass("active"),$("#js-box").removeClass("active")}),configureEditor("js-box","javascript"),configureEditor("cs-box","coffee")}function configureEditor(e,i){var c=ace.edit(e);c.getSession().setMode("ace/mode/"+i),c.setTheme("ace/theme/twilight"),c.setReadOnly(!0),c.renderer.setShowGutter(!1)}function compile(e){var i,c,t;try{i=js2coffee.build(e),t=i.code,t+="\n# ---\n# generated by js2coffee "+js2coffee.version}catch(s){if(c=s,!s.start)throw s}return{code:t,error:c,warnings:i&&i.warnings}}function compileReverse(e){var c,t;try{t=CoffeeScript.compile(e,{bare:!0}),t+="\n// ---\n// generated by coffee-script "+CoffeeScript.VERSION,t=t.trim()}catch(s){if(!s.location)throw s;s.description=s.message,s.start={line:s.location.first_line+1,column:s.location.first_column},s.location.last_line&&(s.end={line:s.location.last_line+1,column:s.location.last_column+1}),console.error(s),c=s}return{code:t,error:c}}$(function(){addScript("https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.9/ace.js"),addScript("http://cdn.rawgit.com/jashkenas/coffeescript/1.9.0/extras/coffee-script.js"),addScript("http://cdn.rawgit.com/js2coffee/js2coffee/v2.0.3/dist/js2coffee.js")}),$(window).load(function(){$(".j2cw-js").length>0&&js2cs($(".j2cw-js")),$(".j2cw-cs").length>0&&cs2js($(".j2cw-cs")),addClickListeners()});